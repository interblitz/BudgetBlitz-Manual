

<!doctype html>

<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Коллективная работа &#8212; Документация Блиц Бюджет 2.7</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/bizstyle.css" />
    <link rel="stylesheet" type="text/css" href="_static/bbstyle.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/translations.js"></script>
    <script src="_static/bizstyle.js"></script>
    <link rel="author" title="Об этих документах" href="about.html" />
    <link rel="index" title="Алфавитный указатель" href="genindex.html" />
    <link rel="search" title="Поиск" href="search.html" />
    <link rel="next" title="Отчеты" href="reports.html" />
    <link rel="prev" title="Импорт данных" href="import.html" />

    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-17679631-2', 'auto');
  ga('send', 'pageview');

</script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Навигация</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Алфавитный указатель"
             accesskey="I">указатель</a></li>
        <li class="right" >
          <a href="reports.html" title="Отчеты"
             accesskey="N">вперёд</a> |</li>
        <li class="right" >
          <a href="import.html" title="Импорт данных"
             accesskey="P">назад</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Документация Блиц Бюджет 2.7</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Коллективная работа</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="chapter-teamwork">
<span id="id1"></span><h1>Коллективная работа<a class="headerlink" href="#chapter-teamwork" title="Ссылка на этот заголовок">¶</a></h1>
<div class="section" id="id2">
<h2>Введение<a class="headerlink" href="#id2" title="Ссылка на этот заголовок">¶</a></h2>
<p>Блиц Бюджет для Android позволяет вести совместный учет доходов и расходов. Вот несколько примеров:</p>
<ol class="arabic simple">
<li><p>Полная синхронизация между устройствами;</p></li>
<li><p>Совместный финансовый учет только по выбранным счетам, проектам, персонам, контрагентам или даже статьям;</p></li>
<li><p>Сбор данных на одном устройстве, в случае, когда, скажем, родители отслеживают расходы детей.</p></li>
</ol>
<p>Любое устройство, на котором установлена программа, может стать узлом обмена (см. <a class="reference internal" href="glossary.html#term-1"><span class="xref std std-term">узел обмена</span></a>) и получать или передавать изменения. Каждый узел обмена может обмениваться информацией с другими узлами.</p>
<div class="admonition note">
<p class="admonition-title">Примечание</p>
<p>Версия Free может передавать, но не может принимать сообщения. Версия Pro не содержит ограничений.</p>
</div>
<p>Программа имеет гибкие настройки, регулирующие процесс обмена. Так например, можно разрешить принимать только новые операции от одного узла, и запретить принимать измененные. Для каждого узла обмена действуют свои настройки.</p>
<p>В целях повышения безопасности все сообщения между узлами шифруются, для каждого узла можно задать свой пароль, который будет использоваться для шифрования / дешифрования передаваемой информации.</p>
<p>Для совместной работы не требуется учетная запись Dropbox или других сервисов.</p>
</div>
<div class="section" id="id3">
<h2>Начало работы<a class="headerlink" href="#id3" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id4">
<h3>Выбор исходных данных<a class="headerlink" href="#id4" title="Ссылка на этот заголовок">¶</a></h3>
<p>Предположим, что Алиса и Боб хотят вести совместный финансовый учет. Предварительно, им нужно определиться какая ситуация для них ближе:</p>
<ol class="arabic simple">
<li><p>В начале работы у Алисы и Боба будут одинаковые данные.</p></li>
<li><p>Алиса и/или Боб уже давно ведут учет и не хотят объединять все данные, а планируют синхронизировать лишь отдельные счета.</p></li>
</ol>
<p>В первом случае Алиса или Боб (для определенности пусть это будет Алиса) делает резервную копию данных. Затем Алиса передает резервную
копию данных Бобу и тот восстанавливает ее у себя на устройстве. Теперь у Алисы и Боба идентичные базы данных. Для корректной работы обмена
необходимо, что идентификаторы баз данных различались, поэтому Боб выполняет дополнительную сервисную операцию, формирует новый идентификатор на своем устройстве.</p>
<div class="admonition note">
<p class="admonition-title">Примечание</p>
<p>После восстановления данных из резервной копии для нового узла обмена необходимо сформировать новый идентификатор.</p>
</div>
<a class="reference internal image-reference" href="_images/exchangenewid-005-select-actions.png"><img alt="_images/exchangenewid-005-select-actions.png" src="_images/exchangenewid-005-select-actions.png" style="width: 25%;" /></a>
<a class="reference internal image-reference" href="_images/exchangenewid-010-select-exchange.png"><img alt="_images/exchangenewid-010-select-exchange.png" src="_images/exchangenewid-010-select-exchange.png" style="width: 25%;" /></a>
<a class="reference internal image-reference" href="_images/exchangenewid-020-select-exchange_nodes.png"><img alt="_images/exchangenewid-020-select-exchange_nodes.png" src="_images/exchangenewid-020-select-exchange_nodes.png" style="width: 25%;" /></a>
<a class="reference internal image-reference" href="_images/exchangenewid-030-select-actions.png"><img alt="_images/exchangenewid-030-select-actions.png" src="_images/exchangenewid-030-select-actions.png" style="width: 25%;" /></a>
<a class="reference internal image-reference" href="_images/exchangenewid-040-select-new-id.png"><img alt="_images/exchangenewid-040-select-new-id.png" src="_images/exchangenewid-040-select-new-id.png" style="width: 25%;" /></a>
<p>Теперь Алиса и Боб готовы к настройке обмена.</p>
<p>Во втором случае никаких предварительных действий совершать не нужно. Алиса и Боб сразу готовы к настройке обмена.</p>
</div>
<div class="section" id="id5">
<h3>Обмен идентификаторами<a class="headerlink" href="#id5" title="Ссылка на этот заголовок">¶</a></h3>
<p>Для работы обмена Алисе и Бобу необходимо обменяться идентификаторами узлов обмена и сохранить их в справочнике узлов.
Для этого Алиса открывает справочник <span class="bbmeta">Узлы обмена</span> используя меню <span class="menuselection">Действия ‣ Обмен данными ‣  Узлы обмена</span>. В справочнике
узлов обмена Алиса выбирает пункт меню <span class="menuselection">Отправить идентификатор</span> и отправляет идентификатор своего узла
по электронной почте Бобу.</p>
<a class="reference internal image-reference" href="_images/exchangesendid-005-select-actions.png"><img alt="_images/exchangesendid-005-select-actions.png" src="_images/exchangesendid-005-select-actions.png" style="width: 25%;" /></a>
<a class="reference internal image-reference" href="_images/exchangesendid-010-select-exchange.png"><img alt="_images/exchangesendid-010-select-exchange.png" src="_images/exchangesendid-010-select-exchange.png" style="width: 25%;" /></a>
<a class="reference internal image-reference" href="_images/exchangesendid-020-select-exchange_nodes.png"><img alt="_images/exchangesendid-020-select-exchange_nodes.png" src="_images/exchangesendid-020-select-exchange_nodes.png" style="width: 25%;" /></a>
<a class="reference internal image-reference" href="_images/exchangesendid-030-select-actions.png"><img alt="_images/exchangesendid-030-select-actions.png" src="_images/exchangesendid-030-select-actions.png" style="width: 25%;" /></a>
<a class="reference internal image-reference" href="_images/exchangesendid-040-select-share-id.png"><img alt="_images/exchangesendid-040-select-share-id.png" src="_images/exchangesendid-040-select-share-id.png" style="width: 25%;" /></a>
<a class="reference internal image-reference" href="_images/exchangesendid-050-mail-id.png"><img alt="_images/exchangesendid-050-mail-id.png" src="_images/exchangesendid-050-mail-id.png" style="width: 25%;" /></a>
<p>Боб принимает сообщение, создает новый узел обмена, указывает название и копирует полученный идентификатор. После этого отправляет свой идентификатор Алисе.</p>
<a class="reference internal image-reference" href="_images/exchangenewnode-005-select-actions.png"><img alt="_images/exchangenewnode-005-select-actions.png" src="_images/exchangenewnode-005-select-actions.png" style="width: 25%;" /></a>
<a class="reference internal image-reference" href="_images/exchangenewnode-010-select-exchange.png"><img alt="_images/exchangenewnode-010-select-exchange.png" src="_images/exchangenewnode-010-select-exchange.png" style="width: 25%;" /></a>
<a class="reference internal image-reference" href="_images/exchangenewnode-020-select-exchange_nodes.png"><img alt="_images/exchangenewnode-020-select-exchange_nodes.png" src="_images/exchangenewnode-020-select-exchange_nodes.png" style="width: 25%;" /></a>
<a class="reference internal image-reference" href="_images/exchangenewnode-030-click-fab.png"><img alt="_images/exchangenewnode-030-click-fab.png" src="_images/exchangenewnode-030-click-fab.png" style="width: 25%;" /></a>
<a class="reference internal image-reference" href="_images/exchangenewnode-040-setup_node.png"><img alt="_images/exchangenewnode-040-setup_node.png" src="_images/exchangenewnode-040-setup_node.png" style="width: 25%;" /></a>
<p>Алиса, в свою очередь, принимает сообщение Боба и создает новый узел обмена с идентификатором, который указан в сообщении Боба.</p>
</div>
</div>
<div class="section" id="id6">
<h2>Включение обмена<a class="headerlink" href="#id6" title="Ссылка на этот заголовок">¶</a></h2>
<p>После обмена идентификаторами Алиса и Боб включают в настройках синхронизацию данных между узлами обмена.</p>
<a class="reference internal image-reference" href="_images/exchangeenable-005-select-actions.png"><img alt="_images/exchangeenable-005-select-actions.png" src="_images/exchangeenable-005-select-actions.png" style="width: 25%;" /></a>
<a class="reference internal image-reference" href="_images/exchangeenable-020-click-on-actions-menu.png"><img alt="_images/exchangeenable-020-click-on-actions-menu.png" src="_images/exchangeenable-020-click-on-actions-menu.png" style="width: 25%;" /></a>
<a class="reference internal image-reference" href="_images/exchangeenable-025-select-exchange.png"><img alt="_images/exchangeenable-025-select-exchange.png" src="_images/exchangeenable-025-select-exchange.png" style="width: 25%;" /></a>
<a class="reference internal image-reference" href="_images/exchangeenable-030-check-use-exchange.png"><img alt="_images/exchangeenable-030-check-use-exchange.png" src="_images/exchangeenable-030-check-use-exchange.png" style="width: 25%;" /></a>
<p>Теперь все изменения, которые делает Алиса отправляются Бобу и наоборот. Приложение синхронизирует изменения
автоматически примерно один раз в пять минут при наличии Wi-Fi или мобильного интернета. Функция синхронизации
автоматически отключается, если нет интернет-соединения или во время сна устройства. Благодаря этому
экономится трафик и электроэнергия аккумулятора.</p>
<p>Вот точный алгоритм запуска обмена:</p>
<ol class="arabic simple">
<li><p>После запуска обмена программа проверяет включен экран телефона или нет.</p>
<ol class="arabic simple">
<li><p>Если экран включен, то следующее время срабатывания - через 5 мин. от текущего.</p></li>
<li><p>Если экран выключен, то следующее время срабатывания - через 60 мин. от текущего.</p></li>
<li><p>Оба будильника не имеют права будить телефон.</p></li>
</ol>
</li>
<li><p>При открытии главного экрана программы выполняется проверка на следующее время срабатывания будильника.</p>
<ol class="arabic simple">
<li><p>Если следующее время срабатывания находится в пределах 10 мин. от текущего, то ничего не происходит.</p></li>
<li><p>Если следующее время срабатывания находится в пределах более 10 мин. от текущего, то запускается обмен в фоновом режиме и далее программа определяет следующее время срабатывания по п. 1</p></li>
</ol>
</li>
<li><p>Если сети нет, то обмен отключается полностью до следующего появления сети.</p></li>
</ol>
<p>При необходимости всегда можно вызвать синхронизацию вручную.</p>
</div>
<div class="section" id="id7">
<h2>Как работает обмен данными<a class="headerlink" href="#id7" title="Ссылка на этот заголовок">¶</a></h2>
<p>Приложение Блиц Бюджет для Android ведет журнал изменений справочников и операций. Каждому узлу обмена отправляются изменения,
которые произошли либо с момента получения предыдущего пакета изменений, либо с момента создания узла.
Важна последовательность обмена: Алиса отправляет сообщение Бобу, Боб - Алисе и т.д. Если узел обмена Алисы не
получит ответ Боба, то не будет отправлять следующий пакет изменений до тех пор, пока не придет ответ.</p>
<p>Синхронизация всех элементов справочников выполняется в несколько этапов:</p>
<ol class="arabic simple">
<li><p>синхронизация по уникальному идентификатору;</p></li>
<li><p>синхронизация по ключевым фразам или коду;</p></li>
<li><p>синхронизация по наименованию.</p></li>
</ol>
<p>Каждый следующий шаг синхронизации выполняется в случае, если предыдущий закончился неудачей. Если элемент
не удалось найти, то программа создает новый, используя при этом значения по умолчанию, указанные в настройке узла.</p>
<p>Синхронизация операций выполняется только по уникальному идентификатору.</p>
</div>
<div class="section" id="id8">
<h2>Расширенная настройка<a class="headerlink" href="#id8" title="Ссылка на этот заголовок">¶</a></h2>
<p>Алиса и Боб могут ограничить объем передаваемой информации. Есть два варианта задания ограничений:</p>
<ol class="arabic simple">
<li><p>разрешенная область данных;</p></li>
<li><p>запрещенная область данных.</p></li>
</ol>
<p>Области задаются в справочнике <span class="bbmeta">Области данных</span>. Можно указать любую комбинацию счетов, статей, плательщиков и получателей,
проектов и персон.</p>
<p>В случае, если один и тот же элемент справочника одновременно попадает в разрешенную и запрещенную область, то более
высокий приоритет имеет запрещенная область.</p>
<p>На основании областей данных формируется список операций, постоянных операций и справочников для передачи узлу обмена.</p>
<p>Алиса и Боб могут ограничить объем принимаемой информации. Можно полностью отказаться принимать новые, измененные или удаленные объекты.
Или можно конкретизировать какой тип объектов не принимать в случае создания, изменения или удаления.</p>
</div>
<div class="section" id="id9">
<h2>Настройка передачи данных<a class="headerlink" href="#id9" title="Ссылка на этот заголовок">¶</a></h2>
<p>Для повышения безопасности передачи данных следует указать пароль, которым будут зашифрованы сообщения между узлами обмена. Пароль Алисы должен совпадать с паролем Боба.</p>
<p>Также Алисе и Бобу следует указать какой вид коммуникаций использовать для обмена сообщениями: Wi-Fi и/или мобильный интернет.</p>
</div>
<div class="section" id="id10">
<h2>Значения по умолчанию<a class="headerlink" href="#id10" title="Ссылка на этот заголовок">¶</a></h2>
<p>Справочники на устройствах Алисы и Боба могут не совпадать между собой. Например, Боб уже давно
ведет финансовый учет, а Алиса только что установила приложение. Боб может создать операцию и указать в ней, например,
проект, которого нет в узле обмена Алисы. При поступлении сообщения Боба, приложение на устройстве Алисы
создаст операцию, однако не сможет найти указанный Бобом проект. В этом случае приложение будет использовать
значение проекта по умолчанию, которое Алиса задала для узла обмена Боба.</p>
</div>
<div class="section" id="id11">
<h2>Перенос данных на новый телефон с сохранением настроек обмена<a class="headerlink" href="#id11" title="Ссылка на этот заголовок">¶</a></h2>
<p>В случае работающего обмена, переход на новый телефон следует выполнять в порядке:</p>
<ol class="arabic simple">
<li><p>На старом телефоне в настройках выключить синхронизацию.</p></li>
<li><p>Сделать резервную копию.</p></li>
<li><p>Восстановить резервную копию на новом телефоне.</p></li>
<li><p>Включить синхронизацию на новом телефоне.</p></li>
</ol>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Коллективная работа</a><ul>
<li><a class="reference internal" href="#id2">Введение</a></li>
<li><a class="reference internal" href="#id3">Начало работы</a><ul>
<li><a class="reference internal" href="#id4">Выбор исходных данных</a></li>
<li><a class="reference internal" href="#id5">Обмен идентификаторами</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id6">Включение обмена</a></li>
<li><a class="reference internal" href="#id7">Как работает обмен данными</a></li>
<li><a class="reference internal" href="#id8">Расширенная настройка</a></li>
<li><a class="reference internal" href="#id9">Настройка передачи данных</a></li>
<li><a class="reference internal" href="#id10">Значения по умолчанию</a></li>
<li><a class="reference internal" href="#id11">Перенос данных на новый телефон с сохранением настроек обмена</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Предыдущий раздел</h4>
    <p class="topless"><a href="import.html"
                          title="предыдущая глава">Импорт данных</a></p>
  </div>
  <div>
    <h4>Следующий раздел</h4>
    <p class="topless"><a href="reports.html"
                          title="следующая глава">Отчеты</a></p>
  </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Быстрый поиск</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Искать" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Навигация</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Алфавитный указатель"
             >указатель</a></li>
        <li class="right" >
          <a href="reports.html" title="Отчеты"
             >вперёд</a> |</li>
        <li class="right" >
          <a href="import.html" title="Импорт данных"
             >назад</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Документация Блиц Бюджет 2.7</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Коллективная работа</a></li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2017 - 2021, Interblitz.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.5.0.
    </div>
<div class="footer">This page uses <a href="http://analytics.google.com/">
Google Analytics</a> to collect statistics. You can disable it by blocking
the JavaScript coming from www.google-analytics.com.
</div>

  </body>
</html>